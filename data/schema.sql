DROP DATABASE IF EXISTS `bilderdb`;
CREATE DATABASE IF NOT EXISTS `bilderdb`
  DEFAULT CHARACTER SET utf8
  COLLATE utf8_german2_ci;

USE bilderdb;

CREATE TABLE USER (
  UID       INT PRIMARY KEY AUTO_INCREMENT,
  EMAIL     VARCHAR(50),
  FIRSTNAME VARCHAR(50),
  SURENAME  VARCHAR(50),
  PASSWORD  VARCHAR(60),
  ROLE      INT
);

CREATE TABLE ROLE (
  RID         INT PRIMARY KEY,
  ROLE        VARCHAR(50),
  DESCRIPTION VARCHAR(100)
);

CREATE TABLE PICTURE (
  PID         INT PRIMARY KEY AUTO_INCREMENT,
  PICTURE     BLOB,
  TITLE       VARCHAR(50),
  DESCRIPTION VARCHAR(100)
);

CREATE TABLE TAGS (
  TID         INT PRIMARY KEY AUTO_INCREMENT,
  TAG         VARCHAR(50),
  DESCRIPTION VARCHAR(100)
);

CREATE TABLE GALLERIE_PICTURE (
  GPID INT PRIMARY KEY AUTO_INCREMENT,
  GID  INT,
  PID  INT,
  TID  INT
);

CREATE TABLE GALLERIE (
  GID INT PRIMARY KEY AUTO_INCREMENT,
  UID  INT,
  NAME VARCHAR (50),
  DESCRIPTION VARCHAR (10000)
);

INSERT INTO ROLE VALUES (1, "Admin", "Admin");
INSERT INTO ROLE VALUES (2, "User", "Wenn der Benutzer Registriert und Eingeloggt ist.");

INSERT INTO USER (UID,EMAIL,FIRSTANME,SURENAME,PASSWORD,ROLE) VALUES (1, "admin@gmail.com", "Admin", "Root", "$2y$10$ZW8lhRjDakWqODqVFDYHL.0X0aMkQh5POs.d5TcKuIcLwEYVqmHAa", 1);
INSERT INTO USER VALUES (2, "user@gmail.com", "User", "Fritz", "9f8a2389a20ca0752aa9e95093515517e90e194c", 2);




